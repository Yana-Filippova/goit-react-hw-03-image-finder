{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Container/Container.module.css","components/Searchbar/Searchbar.js","components/Loader/Loader.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","services/pixabay-api.js","components/Button/Button.js","components/ImageGalleryInfo/ImageGalleryInfo.js","components/Container/Container.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","imageName","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","className","styles","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","name","onChange","Component","LoaderComponent","color","height","width","timeout","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","handleOverlayClick","target","window","addEventListener","removeEventListener","src","alt","createPortal","Overlay","onClick","ImageGalleryItem","showModal","toggleModal","largeImageURL","ImageGalleryItemImage","ImageGallery","images","map","webformatURL","tags","id","api","fetchImage","page","fetch","then","response","ok","json","Promise","reject","Error","Button","onClickLoadMore","Status","ImageGalleryInfo","status","currentPage","prevState","prevProps","prevName","nextName","prevPage","nextPage","searchMoreImages","pixabayAPI","total","dark","hits","catch","finally","setTimeout","scrollBy","top","behavior","style","margin","textAlign","fontFamily","fontSize","fontStyle","length","Loader","Container","children","App","handleSearchForm","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6849acd3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__CIQGv\",\"Modal\":\"Modal_Modal__3XOAJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__R9yah\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__tFY6a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__22zJi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2gSc-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__EW-EX\"};","import { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport styles from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    imageName: '',\r\n  };\r\n\r\n  handleNameChange = event => {\r\n    this.setState({ imageName: event.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    if (this.state.imageName.trim() === '') {\r\n      toast.error('Please, enter necessary information!');\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(this.state.imageName);\r\n    this.setState({ imageName: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}></span>\r\n          </button>\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            name=\"imageName\"\r\n            value={this.state.imageName}\r\n            onChange={this.handleNameChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React, { Component } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nclass LoaderComponent extends Component {\r\n  render() {\r\n    return (\r\n      <Loader\r\n        type=\"Hearts\"\r\n        color=\"#3f51b5\"\r\n        height={160}\r\n        width={160}\r\n        timeout={3000}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoaderComponent;\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleOverlayClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { src, alt } = this.props;\r\n\r\n    return createPortal(\r\n      <div className={styles.Overlay} onClick={this.handleOverlayClick}>\r\n        <div className={styles.Modal}>\r\n          <img src={src} alt={alt} />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Modal from '../Modal/Modal';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nclass ImageGalleryItem extends Component {\r\n  state = {\r\n    showModal: false,\r\n  };\r\n\r\n  static propTypes = {\r\n    src: PropTypes.string.isRequired,\r\n    alt: PropTypes.string.isRequired,\r\n    largeImageURL: PropTypes.string.isRequired,\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { src, alt, largeImageURL } = this.props;\r\n    const { showModal } = this.state;\r\n\r\n    return (\r\n      <li className={styles.ImageGalleryItem}>\r\n        <img\r\n          src={src}\r\n          alt={alt}\r\n          className={styles.ImageGalleryItemImage}\r\n          onClick={this.toggleModal}\r\n        />\r\n\r\n        {showModal && (\r\n          <Modal onClose={this.toggleModal} src={largeImageURL} alt={alt} />\r\n        )}\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport styles from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images }) => (\r\n  <ul className={styles.ImageGallery}>\r\n    {images &&\r\n      images.map(({ webformatURL, tags, largeImageURL, id }) => (\r\n        <ImageGalleryItem\r\n          src={webformatURL}\r\n          alt={tags}\r\n          largeImageURL={largeImageURL}\r\n          key={id}\r\n        />\r\n      ))}\r\n  </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","function fetchImage(name, page) {\r\n  const KEY = '21910767-1ff9d0df6204712ecdebd388c';\r\n  const BASE_URL = 'https://pixabay.com/api/';\r\n\r\n  return fetch(\r\n    `${BASE_URL}?q=${name}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  ).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(new Error('Invalid request'));\r\n  });\r\n}\r\n\r\nconst api = {\r\n  fetchImage,\r\n};\r\n\r\nexport default api;\r\n\r\n\r\n","import PropTypes from 'prop-types';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ onClickLoadMore }) => (\r\n  <>\r\n    <button type=\"button\" className={styles.Button} onClick={onClickLoadMore}>\r\n      Load more\r\n    </button>\r\n  </>\r\n);\r\n\r\nButton.propTypes = {\r\n  onClickLoadMore: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport LoaderComponent from '../Loader';\r\nimport ImageGallery from '../ImageGallery';\r\nimport pixabayAPI from '../../services/pixabay-api';\r\nimport Button from '../Button';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst Status = {\r\n  IDLE: 'idle',\r\n  PENDING: 'pending',\r\n  RESOLVED: 'resolved',\r\n  REJECTED: 'rejected',\r\n};\r\n\r\nclass ImageGalleryInfo extends Component {\r\n  state = {\r\n    images: [],\r\n    status: Status.IDLE,\r\n    error: null,\r\n    currentPage: 1,\r\n  };\r\n\r\n  static propTypes = {\r\n    imageName: PropTypes.string.isRequired,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevName = prevProps.imageName;\r\n    const nextName = this.props.imageName;\r\n    const prevPage = prevState.currentPage;\r\n    const nextPage = this.state.currentPage;\r\n\r\n    if (prevName !== nextName) {\r\n      this.setState({ images: [], currentPage: 1 });\r\n    }\r\n\r\n    if (prevName !== nextName || prevPage !== nextPage) {\r\n      this.searchMoreImages(nextName, nextPage);\r\n    }\r\n  }\r\n\r\n  searchMoreImages(nextName, nextPage) {\r\n    this.setState({ status: Status.PENDING });\r\n\r\n    pixabayAPI\r\n      .fetchImage(nextName, nextPage)\r\n      .then(images => {\r\n        if (images.total === 0) {\r\n          toast.dark('No images found. Please submit another query!');\r\n          this.setState({ status: Status.REJECTED });\r\n\r\n          return;\r\n        }\r\n\r\n        this.setState(prevState => ({\r\n          images: [...prevState.images, ...images.hits],\r\n          status: Status.RESOLVED,\r\n        }));\r\n      })\r\n      .catch(error => this.setState({ error, status: Status.REJECTED }))\r\n      .finally(() => {\r\n        setTimeout(() => {\r\n          window.scrollBy({\r\n            top: 500,\r\n            behavior: 'smooth',\r\n          });\r\n        }, 500);\r\n      });\r\n  }\r\n\r\n  onClickLoadMore = () => {\r\n    this.setState(prevState => ({\r\n      currentPage: prevState.currentPage + 1,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { images, status } = this.state;\r\n\r\n    return (\r\n      <>\r\n        {status === Status.IDLE && (\r\n          <div\r\n            style={{\r\n              margin: '15px auto',\r\n              textAlign: 'center',\r\n              fontFamily: 'Roboto, sans-serif',\r\n              fontSize: '25px',\r\n              fontStyle: 'italic',\r\n            }}\r\n          >\r\n            Please enter a query!\r\n          </div>\r\n        )}\r\n        {images.length > 0 && (\r\n          <>\r\n            <ImageGallery images={images} />\r\n            <Button onClickLoadMore={this.onClickLoadMore} />\r\n          </>\r\n        )}\r\n\r\n        {status === Status.PENDING && (\r\n          <>\r\n            <LoaderComponent />\r\n          </>\r\n        )}\r\n        {status === Status.REJECTED && null}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGalleryInfo;\r\n","import PropTypes from 'prop-types';\r\nimport styles from './Container.module.css';\r\n\r\nfunction Container({ children }) {\r\n  return <div className={styles.Container}>{children}</div>;\r\n}\r\n\r\nContainer.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default Container;","import { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport Searchbar from './components/Searchbar';\nimport ImageGalleryInfo from './components/ImageGalleryInfo';\nimport Container from './components/Container';\nimport './App.css';\n\nclass App extends Component {\n  state = {\n    imageName: '',\n  };\n\n  handleSearchForm = imageName => {\n    this.setState({ imageName });\n  };\n\n  render() {\n    const { imageName } = this.state;\n\n    return (\n      <Container>\n        <Searchbar onSubmit={this.handleSearchForm} />\n        <ImageGalleryInfo\n          imageName={imageName}\n          currentPage={this.props.currentPage}\n        />\n        <ToastContainer autoClose={3000} />\n      </Container>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3iA8g\",\"SearchForm\":\"Searchbar_SearchForm__2n0WF\",\"SearchFormButton\":\"Searchbar_SearchFormButton__33ZiG\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1mmeo\",\"SearchFormInput\":\"Searchbar_SearchFormInput__TJn81\"};"],"sourceRoot":""}